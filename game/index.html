<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Egret Game</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
      overflow: hidden;
    }
    .egret-player {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <!-- Oyun Alanı -->
  <div class="egret-player"
       data-entry-class="Main"
       data-orientation="auto"
       data-scale-mode="showAll"
       data-frame-rate="60"
       data-content-width="640"
       data-content-height="1136"
       data-multi-fingered="2"
       data-show-fps="false"
       data-show-log="false">
  </div>

  <script>
    // Script yükleme fonksiyonları
    var loadScript = function(list, callback) {
      var loaded = 0;
      var loadNext = function() {
        loadSingleScript(list[loaded], function() {
          loaded++;
          if (loaded >= list.length) {
            callback();
          } else {
            loadNext();
          }
        });
      };
      loadNext();
    };

    var loadSingleScript = function(src, callback) {
      var s = document.createElement("script");
      s.async = false;
      s.src = src;
      s.addEventListener("load", function() {
        s.parentNode.removeChild(s);
        callback();
      });
      document.body.appendChild(s);
    };

    // Çalışması için gerekli dosyalar
    var scripts = [
      "egret.min_d92caeca.js",
      "egret.web.min_e835c5d0.js",
      "game.min_8f561331.js",
      "tween.min_6c5a88f9.js",
      "assetsmanager.min_77c2fdfe.js",
      "promise.min_83a6a5d.js",
      "particle.min_27fe451d.js",
      "Box2dweb.min_cd7b197d.js",
      "vconsole.min_314a0209.js",
      "3main.min_31cdbd8e.js"
    ];

    // Kaynak dosyalarını global değişkenlere bağla
    window.$T_GAME_VERSION = "1.0.13";
    window.$T_GAME_ARGS = {};
    window.$T__RES__FILE = "2default.res.json";
    window.$T__THE__FILE = "default.thm.json";

    // Scriptleri sırayla yükle
    loadScript(scripts, function() {
      egret.runEgret({
        renderMode: "webgl",
        audioType: 0,
        calculateCanvasScaleFactor: function(context) {
          var backingStore = context.backingStorePixelRatio ||
            context.webkitBackingStorePixelRatio ||
            context.mozBackingStorePixelRatio ||
            context.msBackingStorePixelRatio ||
            context.oBackingStorePixelRatio || 1;
          return (window.devicePixelRatio || 1) / backingStore;
        }
      });
    });
  </script>
</body>
</html>
